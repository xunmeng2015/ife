<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>任务四：基础JavaScript练习（一）</title>
		<style type="text/css">
			button{
				margin-left: 5px;
			}
			#queue{
				width: 300px;
				height: auto;
			}
			p{
				background-color: red;
				margin-left: 5px;
				width: 30px;
				height: 30px;
				text-align: center;
				line-height: 30px;
				float: left;
				cursor: pointer;
			}
		</style>
	</head>
	<body>
		<input type="text" id="input"><button id="btn1">左侧入</button><button id="btn2">右侧入</button><button id="btn3">左侧出</button><button id="btn4">右侧出</button> 
		<div id="queue">
			<p>10</p><p>3</p><p>7</p><p>12</p><p>11</p><p>30</p>
		</div>
		<script type="text/javascript">
			var queue = document.getElementById("queue");
			var btn1 = document.getElementById("btn1");
			var btn2 = document.getElementById("btn2");
			var btn3 = document.getElementById("btn3");
			var btn4 = document.getElementById("btn4");
			var value;
			btn1.onclick = function(){
				value = document.getElementById("input").value;
				if(value != "" && new RegExp("^[0-9]*$").test(value)){
					if(value.length > 3){
						alert("请输入三位数");
					}
					else{
						var first = queue.firstChild;
						var p = document.createElement("p");
						p.append(value);
						queue.insertBefore(p, first);
					}
				}else if(value != "" && !new RegExp("^[0-9]*$").test(value)){
					alert("只能输入数字");
				}else{
					alert("请输入数字");
				}
			};
			btn2.onclick = function(){
				value = document.getElementById("input").value;
				if(value != "" && new RegExp("^[0-9]*$").test(value)){
					if(value.length > 3){
						alert("请输入三位数");
					}
					else{
						var p = document.createElement("p");
						p.append(value);
						queue.appendChild(p);
					}
				}else if(value != "" && !new RegExp("^[0-9]*$").test(value)){
					alert("只能输入数字");
				}else{
					alert("请输入数字");
				}
			}
			btn3.onclick = function(){
				var arr = document.getElementsByTagName("p");
				if(arr.length <= 0){
					alert("请先插入一些数据");
				}else{
					var firstValue = queue.firstChild.innerHTML;
					alert(firstValue);
				}
			}
		</script>
	</body>
</html>
